<!DOCTYPE html>
<html>
<head>
    <script src="/experimental/javascripts/config.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.js"></script>
    <script src="https://angular-file-upload.appspot.com/js/ng-file-upload-shim.js"></script>
    <script src="https://angular-file-upload.appspot.com/js/ng-file-upload.js"></script>

    <script src="/experimental/javascripts/registryentry.js"></script>

    <link rel="stylesheet" href="/node_modules/material-design-lite/material.min.css">
    <script src="/node_modules/material-design-lite/material.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/stylesheets/style.css">
    <style>
        .thumb {
            width: 24px;
            height: 24px;
            float: none;
            position: relative;
            top: 7px;
        }
    </style>
</head>
<body ng-app="nikita-registry-entry" ng-controller="RegistryEntryController">
<h4>Upload on file select</h4>
<button type="file" ngf-select="uploadFiles($file, $invalidFiles)"
        accept="pdf/*" ngf-max-height="1000" ngf-max-size="1MB">
    Select File
</button>
<br><br>
File:
<div style="font:smaller">{{f.name}} {{errFile.name}} {{errFile.$error}} {{errFile.$errorParam}}
    <span class="progress" ng-show="f.progress >= 0">
          <div style="width:{{f.progress}}%"
               ng-bind="f.progress + '%'"></div>
      </span>
</div>
{{errorMsg}}


<h2>Opprett ny journalpost</h2>
<form ng-submit="send_form()" ng-controller="RegistryEntryController" method="post">
    <div class="mdl-grid-center">
        <div class="mdl-textfield mdl-js-textfield">
            <input class="mdl-textfield__input" placeholder="tittel" ng-model="tittel" type="text" name="tittel"/>
        </div>
    </div>
    <div class="mdl-grid-center">
        <div class="mdl-textfield mdl-js-textfield">
            <input class="mdl-textfield__input" placeholder="beskrivelse" ng-model="beskrivelse" type="text"
                   name="beskrivelse"/>
        </div>
    </div>
    <div class="mdl-grid-center">
        <div class="mdl-textfield mdl-js-textfield">
            <input class="mdl-textfield__input" placeholder="mappeID" ng-model="mappeID" type="text" name="mappeID"/>
        </div>
    </div>
    <div class="form-actions col-xs-offset-2 col-xs-10">
        <input type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored"
               value="Ny journalpost"/>
    </div>
</form>


<h4>Journalpost</h4>
<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
    <tr>
        <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
            <thead>
            <tr>
                <th>journalposttype</th>
                <th>dokumentetsDato</th>
                <th>tittel</th>
                <th>journaldato</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-click="recordSelected(record)" class="mdl-data-table__cell--non-numeric">

                <td class="mdl-data-table__cell--non-numeric">
                    {{ record.dokumentetsDato }}
                </td>
                <td class="mdl-data-table__cell--non-numeric">
                    {{ record.journaldato }}
                </td>
                <td class="mdl-data-table__cell--non-numeric">
                    {{ record.journalposttype }}
                </td>
                <td class="mdl-data-table__cell--non-numeric">
                    {{ record.tittel }}
            </tr>
            </tbody>
        </table>
    </tr>
    <tr>
        <td>&nbsp;</td>
    </tr>

    <tr>
        <table ng-if="record.documentDescription" class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
            <thead>
            <tr>
                <th>dokumenttype</th>
                <th>dokumentstatus</th>
                <th>tittel</th>
                <th>tilknyttetRegistreringSom</th>
            </tr>
            </thead>
            <tbody ng-repeat="documentDescription in record.documentDescription">
            <tr ng-click="fileSelected(record)" class="mdl-data-table__cell--non-numeric">
                <td class="mdl-data-table__cell--non-numeric">
                    {{ documentDescription.dokumenttype }}
                </td>
                <td class="mdl-data-table__cell--non-numeric">
                    {{ documentDescription.dokumentetsDato }}
                </td>
                <td class="mdl-data-table__cell--non-numeric">
                    {{ documentDescription.tittel }}
                </td>
                <td class="mdl-data-table__cell--non-numeric">
                    {{ documentDescription.tilknyttetRegistreringSom }}
                </td>
                <td>
                </td>
            </tr>
            </tbody>
            </tr>
        </table>
</table>
<hr>
<p>Denne webklient er del av
    <a href="https://github.com/HiOA-ABI/nikita-noark5-core/">Nikita
        Noark 5 kjerne</a>, en fri programvareimplementasjon av Noark 5
    Tjenestegrensesnitt.</p>

</body>
</html>
